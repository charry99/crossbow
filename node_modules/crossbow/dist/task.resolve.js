"use strict";
var task_transforms_1 = require("./task.transforms");
var _ = require("../lodash.custom");
var debug = require("debug")("cb:task.resolve");
var task_errors_1 = require("./task.errors");
var task_utils_1 = require("./task.utils");
var adaptors = require("./adaptors");
var task_preprocess_1 = require("./task.preprocess");
var task_tree_transforms_1 = require("./task.tree.transforms");
var TaskTypes;
(function (TaskTypes) {
    TaskTypes[TaskTypes["ExternalTask"] = "ExternalTask"] = "ExternalTask";
    TaskTypes[TaskTypes["Adaptor"] = "Adaptor"] = "Adaptor";
    TaskTypes[TaskTypes["TaskGroup"] = "TaskGroup"] = "TaskGroup";
    TaskTypes[TaskTypes["ParentGroup"] = "ParentGroup"] = "ParentGroup";
    TaskTypes[TaskTypes["InlineFunction"] = "InlineFunction"] = "InlineFunction";
})(TaskTypes = exports.TaskTypes || (exports.TaskTypes = {}));
var TaskOriginTypes;
(function (TaskOriginTypes) {
    TaskOriginTypes[TaskOriginTypes["CrossbowConfig"] = "CrossbowConfig"] = "CrossbowConfig";
    TaskOriginTypes[TaskOriginTypes["NpmScripts"] = "NpmScripts"] = "NpmScripts";
    TaskOriginTypes[TaskOriginTypes["FileSystem"] = "FileSystem"] = "FileSystem";
    TaskOriginTypes[TaskOriginTypes["Adaptor"] = "Adaptor"] = "Adaptor";
    TaskOriginTypes[TaskOriginTypes["InlineFunction"] = "InlineFunction"] = "InlineFunction";
    TaskOriginTypes[TaskOriginTypes["InlineArray"] = "InlineArray"] = "InlineArray";
    TaskOriginTypes[TaskOriginTypes["InlineObject"] = "InlineObject"] = "InlineObject";
    TaskOriginTypes[TaskOriginTypes["InlineChildObject"] = "InlineChildObject"] = "InlineChildObject";
})(TaskOriginTypes = exports.TaskOriginTypes || (exports.TaskOriginTypes = {}));
var TaskRunModes;
(function (TaskRunModes) {
    TaskRunModes[TaskRunModes["series"] = "series"] = "series";
    TaskRunModes[TaskRunModes["parallel"] = "parallel"] = "parallel";
})(TaskRunModes = exports.TaskRunModes || (exports.TaskRunModes = {}));
var defaultTask = {
    baseTaskName: "",
    valid: false,
    query: {},
    flags: {},
    subTasks: [],
    inlineFunctions: [],
    externalTasks: [],
    tasks: [],
    parents: [],
    errors: [],
    cbflags: [],
    description: "",
    rawInput: "",
    env: {},
    taskName: undefined,
    runMode: TaskRunModes.series,
    skipped: false,
    ifChanged: [],
    options: {}
};
function mergeOptions(incoming) {
    return function (task) {
        return _.merge(task, {
            env: incoming.env,
            options: _.merge({}, _.get(incoming.options, "_default", {}), _.get(incoming.options, incoming.subTasks.slice(), {})),
            flags: incoming.flags,
            query: incoming.query
        });
    };
}
function fromInlineItems(incoming, current, name, parents, trigger) {
    if (parents.indexOf(name) > -1) {
        return createCircularReferenceTask(incoming, parents);
    }
    if (Array.isArray(current)) {
        var thisParents_1 = parents.concat(incoming.baseTaskName);
        var name_1 = "ParallelGroup(" + current.toString().slice(0, 20) + "...";
        var task = createTask({
            baseTaskName: name_1,
            taskName: name_1,
            runMode: TaskRunModes.parallel,
            tasks: current.map(function (x) { return createFlattenedTask(x, thisParents_1, trigger); }),
            parents: thisParents_1,
            valid: true,
            type: TaskTypes.TaskGroup
        });
        return task;
    }
    return createFlattenedTask(current, parents.concat(name), trigger);
}
var count = 0;
/**
 * Entry point for resolving the task tree from any given point
 */
function createFlattenedTask(taskItem, parents, trigger) {
    /** DEBUG **/
    debug("resolving ('" + typeof taskItem + "') " + taskItem);
    /** DEBUG-END **/
    /**
     * We first 'preprocess' the task in order to
     * handle different types of task input. Supported:
     *  - string
     *  - function
     *  - object literal
     * @type {Task}
     */
    var incoming = task_preprocess_1.preprocessTask(taskItem, trigger, parents);
    /** DEBUG **/
    debug("preprocessed '" + taskItem + "'", incoming);
    /** DEBUG-END **/
    /**
     * We exit very quickly if the pre-process step has delivered
     * an 'adaptor' task - which means that's nothing left to determine.
     */
    if (incoming.type === TaskTypes.Adaptor) {
        return incoming;
    }
    if (incoming.type === TaskTypes.ParentGroup) {
        var subtask = incoming.subTasks[0];
        var topLevelValue_1 = _.get(trigger.input.tasks, ["(" + incoming.baseTaskName + ")"], {});
        var toResolve = (subtask === "*") ? Object.keys(topLevelValue_1) : [subtask];
        if (incoming.tasks.length) {
            var combinedName_1 = incoming.baseTaskName + ":" + incoming.subTasks[0];
            incoming.tasks = [].concat(incoming.tasks)
                .map(function (x) { return fromInlineItems(incoming, x, combinedName_1, parents, trigger); })
                .map(mergeOptions(incoming));
        }
        else {
            incoming.tasks = toResolve.reduce(function (acc, x) {
                var match = _.get(topLevelValue_1, [x]);
                if (match) {
                    var combinedName_2 = incoming.baseTaskName + ":" + x;
                    return acc.concat([].concat(match)
                        .map(function (x) { return fromInlineItems(incoming, x, combinedName_2, parents, trigger); }));
                }
                return acc;
            }, []);
        }
    }
    if (incoming.origin === TaskOriginTypes.InlineObject || incoming.origin === TaskOriginTypes.InlineChildObject) {
        // todo top level object lookup
        if (incoming.tasks) {
            var taskItems = incoming.tasks;
            incoming.tasks = [].concat(taskItems)
                .map(function (x) { return fromInlineItems(incoming, x, incoming.baseTaskName, parents, trigger); });
        }
    }
    if (incoming.type !== TaskTypes.ParentGroup && incoming.origin !== TaskOriginTypes.InlineChildObject) {
        var toplevelValue = getTopLevelValue(incoming.baseTaskName, trigger.input);
        if (incoming.baseTaskName === 'parallel-tasks') {
        }
        if (toplevelValue) {
            incoming.tasks = [].concat(toplevelValue)
                .map(function (x) { return fromInlineItems(incoming, x, incoming.baseTaskName, parents, trigger); })
                .map(function (out) {
                if (incoming.runMode === TaskRunModes.parallel) {
                    if (out.tasks.length > 1 || out.subTasks.length > 1) {
                        out.runMode = incoming.runMode;
                    }
                }
                return out;
            });
        }
        else {
        }
    }
    /**
     * @type {CBFunction[]}
     */
    incoming.inlineFunctions = (function () {
        if (incoming.inlineFunctions.length)
            return incoming.inlineFunctions;
        if (incoming.tasks.length)
            return [];
        var toplevel = getTopLevelValue(incoming.baseTaskName, trigger.input);
        if (typeof toplevel === "function") {
            return [toplevel];
        }
        return [];
    })();
    /**
     * @type {ExternalTask[]}
     */
    incoming.externalTasks = (function () {
        if (incoming.tasks.length)
            return [];
        if (incoming.inlineFunctions.length)
            return [];
        return task_utils_1.locateModule(trigger.config, incoming.baseTaskName);
    })();
    debug("externalTasks: " + JSON.stringify(incoming.externalTasks[0]));
    /**
     * Set task types
     * @type {TaskTypes}
     */
    incoming.type = (function () {
        if (typeof incoming.type !== "undefined")
            return incoming.type;
        if (incoming.externalTasks.length) {
            return TaskTypes.ExternalTask;
        }
        if (incoming.inlineFunctions.length) {
            return TaskTypes.InlineFunction;
        }
        return TaskTypes.TaskGroup;
    })();
    debug("type: " + incoming.type);
    /**
     * @type {boolean}
     */
    incoming.valid = (function () {
        if (incoming.type === TaskTypes.ParentGroup) {
            if (incoming.tasks.length) {
                return true;
            }
        }
        if (incoming.type === TaskTypes.TaskGroup)
            return true;
        if (incoming.type === TaskTypes.InlineFunction)
            return true;
        if (incoming.type === TaskTypes.ExternalTask)
            return true;
        return false;
    })();
    debug("valid: " + incoming.valid);
    /**
     * Now apply any transformations
     * @type {Task}
     */
    incoming = task_transforms_1.applyTransforms(incoming);
    /**
     * Collect errors
     * @type {TaskError[]}
     */
    incoming.errors = task_errors_1.gatherTaskErrors(incoming, trigger);
    debug("errors: " + incoming.errors);
    /**
     * Add parents array (for detecting circular references);
     * @type {string[]}
     */
    incoming.parents = parents;
    return incoming;
}
/**
 * Factory for creating a new Task Item
 * @param {object} obj
 * @returns {object}
 */
function createTask(obj) {
    return _.mergeWith({}, defaultTask, obj, function customizer(objValue, srcValue) {
        if (_.isArray(objValue)) {
            return objValue.concat(srcValue);
        }
    });
}
exports.createTask = createTask;
/**
 * When a circular reference is detected, exit with the appropriate error
 */
function createCircularReferenceTask(incoming, parents) {
    return _.merge({}, defaultTask, incoming, {
        errors: [{
                type: task_errors_1.TaskErrorTypes.CircularReference,
                incoming: incoming,
                parents: parents
            }]
    });
}
exports.createCircularReferenceTask = createCircularReferenceTask;
/**
 * Match a task name with a top-level value from 'tasks'
 */
function getTopLevelValue(baseTaskName, input) {
    var exactMatch = input.tasks[baseTaskName];
    if (exactMatch !== undefined) {
        return exactMatch;
    }
    var maybeGroup = Object.keys(input.tasks)
        .filter(function (x) { return x.indexOf("(" + baseTaskName + ")") > -1; });
    if (maybeGroup.length) {
        return input.tasks[maybeGroup[0]];
    }
    var maybes = Object.keys(input.tasks)
        .filter(function (x) { return !task_utils_1.isParentGroupName(x); })
        .filter(function (taskName) { return taskName.match(new RegExp("^" + baseTaskName + "($|@(.+?))")) !== null; });
    if (maybes.length) {
        return input.tasks[maybes[0]];
    }
    return undefined;
}
exports.getTopLevelValue = getTopLevelValue;
/**
 * Anything that begins @ is always an adaptor and will skip
 * file i/o etc.
 * @param taskName
 * @param parents
 * @returns {Task}
 */
function createAdaptorTask(taskName, parents) {
    taskName = task_utils_1.removeTrailingNewlines(taskName);
    /**
     * Strip the first part of the task name.
     *  eg: `@npm eslint`
     *   ->  eslint
     * @type {string}
     */
    var commandInput = taskName.replace(/^@(.+?) /, "");
    /**
     * Get a valid adaptors adaptor name
     * @type {string|undefined}
     */
    var validAdaptorName = Object.keys(adaptors).filter(function (x) {
        return taskName.match(new RegExp("^@" + x + " "));
    })[0];
    /**
     * If it was not valid, return a simple
     * task that will be invalid
     */
    if (!validAdaptorName) {
        return createTask({
            rawInput: taskName,
            taskName: taskName,
            type: TaskTypes.Adaptor,
            origin: TaskOriginTypes.Adaptor,
            adaptor: taskName.split(" ")[0],
            errors: [{
                    type: task_errors_1.TaskErrorTypes.AdaptorNotFound,
                    taskName: taskName
                }]
        });
    }
    return createTask({
        baseTaskName: taskName,
        valid: true,
        adaptor: validAdaptorName,
        taskName: taskName,
        rawInput: taskName,
        parents: parents,
        command: commandInput,
        runMode: TaskRunModes.series,
        origin: TaskOriginTypes.Adaptor,
        type: TaskTypes.Adaptor,
    });
}
exports.createAdaptorTask = createAdaptorTask;
/**
 * Look at a hash and determine if the incoming 'taskName'
 * could match a valid taskName.
 * eg:
 *  $ crossbow run shane
 *
 * -> matches:   'shane' & 'shane@p'
 */
function maybeTaskNames(tasks, taskName) {
    return Object.keys(tasks).reduce(function (all, key) {
        var match = key.match(new RegExp("^" + taskName + "@(.+)"));
        if (match) {
            return tasks[key];
        }
        return all;
    }, []);
}
exports.maybeTaskNames = maybeTaskNames;
/**
 * Attempt to match a task-name from within the various 'inputs'
 * given
 */
function pullTaskFromInput(taskName, input) {
    if (input.tasks[taskName] !== undefined) {
        return { items: [].concat(input.tasks[taskName]), origin: TaskOriginTypes.CrossbowConfig };
    }
    /**
     * Next, look at the top-level input,
     * is this taskname going to match, and if so, does it contain any flags?
     */
    var maybes = maybeTaskNames(input.tasks, taskName);
    if (maybes.length) {
        return { items: maybes, origin: TaskOriginTypes.CrossbowConfig };
    }
    return { items: [], origin: TaskOriginTypes.CrossbowConfig };
}
/**
 * A task is valid if every child eventually resolves to
 * having a module or has a adaptors helper
 */
function validateTask(task, trigger) {
    /**
     * Return early if a task has previously
     * been marked as invalid
     */
    if (task.valid === false) {
        return false;
    }
    /**
     * If the task has errors attached, it's always invalid
     */
    if (task.errors.length) {
        return false;
    }
    /**
     * If this task has subtasks in the `task.tasks` Array
     * return the result of validating each of those.
     */
    if (task.tasks.length) {
        return task.tasks.every(function (t) {
            return validateTask(t, trigger);
        });
    }
    /**
     * The final chance for a task to be deemed valid
     * is when `task.adaptors` is set to a string.
     *  eg: lint: '@npm eslint'
     *   -> true
     */
    if (typeof task.adaptor === "string") {
        /**
         * task.adaptor is a string, but does it match any adaptors?
         * If it does, return the result of running the
         * validate method from the adaptor
         */
        if (adaptors[task.adaptor]) {
            return adaptors[task.adaptor].validate.apply(null, [task, trigger]);
        }
    }
    /**
     * If this task was set to InlineFunction, it's always valid
     * (as there's a function to call)
     */
    if (task.type === TaskTypes.InlineFunction) {
        return true;
    }
    /**
     * If the task has external modules associated
     * with it, it's always valid (as it has things to run)
     */
    if (task.type === TaskTypes.ExternalTask) {
        return true;
    }
    /**
     * In the case where `task.modules` has a length (meaning a JS file was found)
     * and there are NO sub tasks to validate, this means the current
     * task is ALWAYS valid so we can return true;
     */
    if (task.externalTasks.length && !task.tasks.length) {
        return true;
    }
}
function resolveTasks(taskCollection, trigger) {
    /**
     * Now begin making the nested task tree
     */
    var taskList = taskCollection
        .map(function (task) {
        return createFlattenedTask(task, [], trigger);
    });
    /**
     * Now apply any last-minute tree transformations
     */
    taskList = task_tree_transforms_1.applyTreeTransforms(taskList);
    /**
     * Return both valid & invalid tasks. We want to let consumers
     * handle errors/successes
     * @type {{valid: Array, invalid: Array}}
     */
    var output = {
        valid: taskList.filter(function (x) { return validateTask(x, trigger); }),
        invalid: taskList.filter(function (x) { return !validateTask(x, trigger); }),
        all: taskList
    };
    return output;
}
exports.resolveTasks = resolveTasks;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFzay5yZXNvbHZlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL3Rhc2sucmVzb2x2ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEscURBQWtEO0FBQ2xELElBQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0FBQ3RDLElBQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0FBR2xELDZDQUErRDtBQUMvRCwyQ0FFc0I7QUFDdEIscUNBQXVDO0FBRXZDLHFEQUFzRjtBQUl0RiwrREFBMkQ7QUFlM0QsSUFBWSxTQU1YO0FBTkQsV0FBWSxTQUFTO0lBQ2pCLHNDQUFvQixjQUFjLGtCQUFBLENBQUE7SUFDbEMsaUNBQWUsU0FBUyxhQUFBLENBQUE7SUFDeEIsbUNBQWlCLFdBQVcsZUFBQSxDQUFBO0lBQzVCLHFDQUFtQixhQUFhLGlCQUFBLENBQUE7SUFDaEMsd0NBQXNCLGdCQUFnQixvQkFBQSxDQUFBO0FBQzFDLENBQUMsRUFOVyxTQUFTLEdBQVQsaUJBQVMsS0FBVCxpQkFBUyxRQU1wQjtBQUVELElBQVksZUFTWDtBQVRELFdBQVksZUFBZTtJQUN2QixvREFBc0IsZ0JBQWdCLG9CQUFBLENBQUE7SUFDdEMsZ0RBQWtCLFlBQVksZ0JBQUEsQ0FBQTtJQUM5QixnREFBa0IsWUFBWSxnQkFBQSxDQUFBO0lBQzlCLDZDQUFlLFNBQVMsYUFBQSxDQUFBO0lBQ3hCLG9EQUFzQixnQkFBZ0Isb0JBQUEsQ0FBQTtJQUN0QyxpREFBbUIsYUFBYSxpQkFBQSxDQUFBO0lBQ2hDLGtEQUFvQixjQUFjLGtCQUFBLENBQUE7SUFDbEMsdURBQXlCLG1CQUFtQix1QkFBQSxDQUFBO0FBQ2hELENBQUMsRUFUVyxlQUFlLEdBQWYsdUJBQWUsS0FBZix1QkFBZSxRQVMxQjtBQUVELElBQVksWUFHWDtBQUhELFdBQVksWUFBWTtJQUNwQixzQ0FBYyxRQUFRLFlBQUEsQ0FBQTtJQUN0Qix3Q0FBZ0IsVUFBVSxjQUFBLENBQUE7QUFDOUIsQ0FBQyxFQUhXLFlBQVksR0FBWixvQkFBWSxLQUFaLG9CQUFZLFFBR3ZCO0FBRUQsSUFBTSxXQUFXLEdBQVM7SUFDdEIsWUFBWSxFQUFFLEVBQUU7SUFDaEIsS0FBSyxFQUFFLEtBQUs7SUFDWixLQUFLLEVBQUUsRUFBRTtJQUNULEtBQUssRUFBRSxFQUFFO0lBQ1QsUUFBUSxFQUFFLEVBQUU7SUFDWixlQUFlLEVBQUUsRUFBRTtJQUNuQixhQUFhLEVBQUUsRUFBRTtJQUNqQixLQUFLLEVBQUUsRUFBRTtJQUNULE9BQU8sRUFBRSxFQUFFO0lBQ1gsTUFBTSxFQUFFLEVBQUU7SUFDVixPQUFPLEVBQUUsRUFBRTtJQUNYLFdBQVcsRUFBRSxFQUFFO0lBQ2YsUUFBUSxFQUFFLEVBQUU7SUFDWixHQUFHLEVBQUUsRUFBRTtJQUNQLFFBQVEsRUFBRSxTQUFTO0lBQ25CLE9BQU8sRUFBRSxZQUFZLENBQUMsTUFBTTtJQUM1QixPQUFPLEVBQUUsS0FBSztJQUNkLFNBQVMsRUFBRSxFQUFFO0lBQ2IsT0FBTyxFQUFFLEVBQUU7Q0FDZCxDQUFDO0FBRUYsc0JBQXNCLFFBQVE7SUFDMUIsTUFBTSxDQUFDLFVBQVUsSUFBVTtRQUN2QixNQUFNLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUU7WUFDakIsR0FBRyxFQUFFLFFBQVEsQ0FBQyxHQUFHO1lBQ2pCLE9BQU8sRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLEVBQUUsRUFDZixDQUFDLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxPQUFPLEVBQUUsVUFBVSxFQUFFLEVBQUUsQ0FBQyxFQUN2QyxDQUFDLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxPQUFPLEVBQU0sUUFBUSxDQUFDLFFBQVEsVUFBRyxFQUFFLENBQUMsQ0FDdEQ7WUFDRCxLQUFLLEVBQUUsUUFBUSxDQUFDLEtBQUs7WUFDckIsS0FBSyxFQUFFLFFBQVEsQ0FBQyxLQUFLO1NBQ3hCLENBQUMsQ0FBQztJQUNQLENBQUMsQ0FBQztBQUNOLENBQUM7QUFFRCx5QkFBeUIsUUFBUSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLE9BQU87SUFDOUQsRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDN0IsTUFBTSxDQUFDLDJCQUEyQixDQUFDLFFBQVEsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUMxRCxDQUFDO0lBQ0QsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDekIsSUFBTSxhQUFXLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDMUQsSUFBTSxNQUFJLEdBQUcsZ0JBQWdCLEdBQUcsT0FBTyxDQUFDLFFBQVEsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDO1FBQ3hFLElBQU0sSUFBSSxHQUFHLFVBQVUsQ0FBQztZQUNwQixZQUFZLEVBQUUsTUFBSTtZQUNsQixRQUFRLEVBQUUsTUFBSTtZQUNkLE9BQU8sRUFBRSxZQUFZLENBQUMsUUFBUTtZQUM5QixLQUFLLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxVQUFBLENBQUMsSUFBSSxPQUFBLG1CQUFtQixDQUFDLENBQUMsRUFBRSxhQUFXLEVBQUUsT0FBTyxDQUFDLEVBQTVDLENBQTRDLENBQUM7WUFDckUsT0FBTyxFQUFFLGFBQVc7WUFDcEIsS0FBSyxFQUFFLElBQUk7WUFDWCxJQUFJLEVBQUUsU0FBUyxDQUFDLFNBQVM7U0FDNUIsQ0FBQyxDQUFDO1FBQ0gsTUFBTSxDQUFDLElBQUksQ0FBQztJQUNoQixDQUFDO0lBQ0QsTUFBTSxDQUFDLG1CQUFtQixDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQ3ZFLENBQUM7QUFFRCxJQUFJLEtBQUssR0FBRyxDQUFDLENBQUM7QUFDZDs7R0FFRztBQUNILDZCQUE2QixRQUEwQixFQUFFLE9BQWlCLEVBQUUsT0FBdUI7SUFFL0YsYUFBYTtJQUNiLEtBQUssQ0FBQyxpQkFBZSxPQUFPLFFBQVEsV0FBTSxRQUFVLENBQUMsQ0FBQztJQUN0RCxpQkFBaUI7SUFFakI7Ozs7Ozs7T0FPRztJQUNILElBQUksUUFBUSxHQUFHLGdDQUFjLENBQUMsUUFBUSxFQUFFLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQztJQUUxRCxhQUFhO0lBQ2IsS0FBSyxDQUFDLG1CQUFpQixRQUFRLE1BQUcsRUFBRSxRQUFRLENBQUMsQ0FBQztJQUM5QyxpQkFBaUI7SUFFakI7OztPQUdHO0lBQ0gsRUFBRSxDQUFDLENBQUMsUUFBUSxDQUFDLElBQUksS0FBSyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztRQUN0QyxNQUFNLENBQUMsUUFBUSxDQUFDO0lBQ3BCLENBQUM7SUFFRCxFQUFFLENBQUMsQ0FBQyxRQUFRLENBQUMsSUFBSSxLQUFLLFNBQVMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO1FBQzFDLElBQU0sT0FBTyxHQUFHLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDckMsSUFBTSxlQUFhLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxDQUFDLE1BQUksUUFBUSxDQUFDLFlBQVksTUFBRyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDckYsSUFBTSxTQUFTLEdBQUcsQ0FBQyxPQUFPLEtBQUssR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxlQUFhLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBRTdFLEVBQUUsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztZQUN4QixJQUFNLGNBQVksR0FBTSxRQUFRLENBQUMsWUFBWSxTQUFJLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFHLENBQUM7WUFDeEUsUUFBUSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUM7aUJBQ3JDLEdBQUcsQ0FBQyxVQUFBLENBQUMsSUFBSSxPQUFBLGVBQWUsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFFLGNBQVksRUFBRSxPQUFPLEVBQUUsT0FBTyxDQUFDLEVBQTVELENBQTRELENBQUM7aUJBQ3RFLEdBQUcsQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztRQUNyQyxDQUFDO1FBQUMsSUFBSSxDQUFDLENBQUM7WUFDSixRQUFRLENBQUMsS0FBSyxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUMsVUFBQyxHQUFHLEVBQUUsQ0FBQztnQkFDckMsSUFBTSxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxlQUFhLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUN4QyxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO29CQUNSLElBQU0sY0FBWSxHQUFNLFFBQVEsQ0FBQyxZQUFZLFNBQUksQ0FBRyxDQUFDO29CQUNyRCxNQUFNLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FDYixFQUFFLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQzt5QkFDWCxHQUFHLENBQUMsVUFBQSxDQUFDLElBQUksT0FBQSxlQUFlLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBRSxjQUFZLEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBQyxFQUE1RCxDQUE0RCxDQUFDLENBQUMsQ0FBQztnQkFDckYsQ0FBQztnQkFDRCxNQUFNLENBQUMsR0FBRyxDQUFDO1lBQ2YsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQ1gsQ0FBQztJQUNMLENBQUM7SUFFRCxFQUFFLENBQUMsQ0FBQyxRQUFRLENBQUMsTUFBTSxLQUFLLGVBQWUsQ0FBQyxZQUFZLElBQUksUUFBUSxDQUFDLE1BQU0sS0FBSyxlQUFlLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDO1FBQzVHLCtCQUErQjtRQUMvQixFQUFFLENBQUMsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUNqQixJQUFNLFNBQVMsR0FBUSxRQUFRLENBQUMsS0FBSyxDQUFDO1lBQ3RDLFFBQVEsQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUM7aUJBQ2hDLEdBQUcsQ0FBQyxVQUFBLENBQUMsSUFBSSxPQUFBLGVBQWUsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxZQUFZLEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBQyxFQUFyRSxDQUFxRSxDQUFDLENBQUM7UUFDekYsQ0FBQztJQUNMLENBQUM7SUFFRCxFQUFFLENBQUMsQ0FBQyxRQUFRLENBQUMsSUFBSSxLQUFLLFNBQVMsQ0FBQyxXQUFXLElBQUksUUFBUSxDQUFDLE1BQU0sS0FBSyxlQUFlLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDO1FBRW5HLElBQU0sYUFBYSxHQUFHLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxZQUFZLEVBQUUsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBRTdFLEVBQUUsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxZQUFZLEtBQUssZ0JBQWdCLENBQUMsQ0FBQyxDQUFDO1FBRWpELENBQUM7UUFFRCxFQUFFLENBQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDO1lBQ2hCLFFBQVEsQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUM7aUJBQ3BDLEdBQUcsQ0FBQyxVQUFBLENBQUMsSUFBSSxPQUFBLGVBQWUsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxZQUFZLEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBQyxFQUFyRSxDQUFxRSxDQUFDO2lCQUMvRSxHQUFHLENBQUMsVUFBQSxHQUFHO2dCQUNKLEVBQUUsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxPQUFPLEtBQUssWUFBWSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7b0JBQzdDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsSUFBSSxHQUFHLENBQUMsUUFBUSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO3dCQUNsRCxHQUFHLENBQUMsT0FBTyxHQUFHLFFBQVEsQ0FBQyxPQUFPLENBQUM7b0JBQ25DLENBQUM7Z0JBQ0wsQ0FBQztnQkFDRCxNQUFNLENBQUMsR0FBRyxDQUFDO1lBQ2YsQ0FBQyxDQUFDLENBQUM7UUFDWCxDQUFDO1FBQUMsSUFBSSxDQUFDLENBQUM7UUFFUixDQUFDO0lBQ0wsQ0FBQztJQUVEOztPQUVHO0lBQ0gsUUFBUSxDQUFDLGVBQWUsR0FBRyxDQUFDO1FBQ3hCLEVBQUUsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDO1lBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxlQUFlLENBQUM7UUFDckUsRUFBRSxDQUFDLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUM7WUFBVyxNQUFNLENBQUMsRUFBRSxDQUFDO1FBQy9DLElBQU0sUUFBUSxHQUFHLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxZQUFZLEVBQUUsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3hFLEVBQUUsQ0FBQyxDQUFDLE9BQU8sUUFBUSxLQUFLLFVBQVUsQ0FBQyxDQUFDLENBQUM7WUFDakMsTUFBTSxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDdEIsQ0FBQztRQUNELE1BQU0sQ0FBQyxFQUFFLENBQUM7SUFDZCxDQUFDLENBQUMsRUFBRSxDQUFDO0lBRUw7O09BRUc7SUFDSCxRQUFRLENBQUMsYUFBYSxHQUFHLENBQUM7UUFDdEIsRUFBRSxDQUFDLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUM7WUFBVyxNQUFNLENBQUMsRUFBRSxDQUFDO1FBQy9DLEVBQUUsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDO1lBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQztRQUMvQyxNQUFNLENBQUMseUJBQVksQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLFFBQVEsQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUMvRCxDQUFDLENBQUMsRUFBRSxDQUFDO0lBRUwsS0FBSyxDQUFDLG9CQUFrQixJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUcsQ0FBQyxDQUFDO0lBRXJFOzs7T0FHRztJQUNILFFBQVEsQ0FBQyxJQUFJLEdBQUcsQ0FBQztRQUNiLEVBQUUsQ0FBQyxDQUFDLE9BQU8sUUFBUSxDQUFDLElBQUksS0FBSyxXQUFXLENBQUM7WUFBQyxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQztRQUMvRCxFQUFFLENBQUMsQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7WUFDaEMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUM7UUFDbEMsQ0FBQztRQUNELEVBQUUsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztZQUNsQyxNQUFNLENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQztRQUNwQyxDQUFDO1FBQ0QsTUFBTSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUM7SUFDL0IsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUVMLEtBQUssQ0FBQyxXQUFTLFFBQVEsQ0FBQyxJQUFNLENBQUMsQ0FBQztJQUVoQzs7T0FFRztJQUNILFFBQVEsQ0FBQyxLQUFLLEdBQUcsQ0FBQztRQUNkLEVBQUUsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLEtBQUssU0FBUyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUM7WUFDMUMsRUFBRSxDQUFDLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO2dCQUN4QixNQUFNLENBQUMsSUFBSSxDQUFDO1lBQ2hCLENBQUM7UUFDTCxDQUFDO1FBQ0QsRUFBRSxDQUFDLENBQUMsUUFBUSxDQUFDLElBQUksS0FBSyxTQUFTLENBQUMsU0FBUyxDQUFDO1lBQU0sTUFBTSxDQUFDLElBQUksQ0FBQztRQUM1RCxFQUFFLENBQUMsQ0FBQyxRQUFRLENBQUMsSUFBSSxLQUFLLFNBQVMsQ0FBQyxjQUFjLENBQUM7WUFBQyxNQUFNLENBQUMsSUFBSSxDQUFDO1FBQzVELEVBQUUsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLEtBQUssU0FBUyxDQUFDLFlBQVksQ0FBQztZQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDNUQsTUFBTSxDQUFDLEtBQUssQ0FBQztJQUNqQixDQUFDLENBQUMsRUFBRSxDQUFDO0lBRUwsS0FBSyxDQUFDLFlBQVUsUUFBUSxDQUFDLEtBQU8sQ0FBQyxDQUFDO0lBRWxDOzs7T0FHRztJQUNILFFBQVEsR0FBRyxpQ0FBZSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBRXJDOzs7T0FHRztJQUNILFFBQVEsQ0FBQyxNQUFNLEdBQUcsOEJBQWdCLENBQzlCLFFBQVEsRUFDUixPQUFPLENBQ1YsQ0FBQztJQUVGLEtBQUssQ0FBQyxhQUFXLFFBQVEsQ0FBQyxNQUFRLENBQUMsQ0FBQztJQUVwQzs7O09BR0c7SUFDSCxRQUFRLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztJQUUzQixNQUFNLENBQUMsUUFBUSxDQUFDO0FBQ3BCLENBQUM7QUFFRDs7OztHQUlHO0FBQ0gsb0JBQTJCLEdBQVE7SUFDL0IsTUFBTSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFFLFdBQVcsRUFBRSxHQUFHLEVBQUUsb0JBQW9CLFFBQVEsRUFBRSxRQUFRO1FBQzNFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3RCLE1BQU0sQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3JDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztBQUNQLENBQUM7QUFORCxnQ0FNQztBQUVEOztHQUVHO0FBQ0gscUNBQTRDLFFBQWMsRUFBRSxPQUFpQjtJQUN6RSxNQUFNLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxFQUFFLEVBQUUsV0FBVyxFQUFFLFFBQVEsRUFBRTtRQUN0QyxNQUFNLEVBQUUsQ0FBeUI7Z0JBQzdCLElBQUksRUFBRSw0QkFBYyxDQUFDLGlCQUFpQjtnQkFDdEMsUUFBUSxFQUFFLFFBQVE7Z0JBQ2xCLE9BQU8sRUFBRSxPQUFPO2FBQ25CLENBQUM7S0FDTCxDQUFDLENBQUM7QUFDUCxDQUFDO0FBUkQsa0VBUUM7QUFFRDs7R0FFRztBQUNILDBCQUFpQyxZQUFvQixFQUFFLEtBQW9CO0lBRXZFLElBQU0sVUFBVSxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLENBQUM7SUFFN0MsRUFBRSxDQUFDLENBQUMsVUFBVSxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUM7UUFDM0IsTUFBTSxDQUFDLFVBQVUsQ0FBQztJQUN0QixDQUFDO0lBRUQsSUFBTSxVQUFVLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDO1NBQ3RDLE1BQU0sQ0FBQyxVQUFBLENBQUMsSUFBSSxPQUFBLENBQUMsQ0FBQyxPQUFPLENBQUMsTUFBSSxZQUFZLE1BQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFuQyxDQUFtQyxDQUFDLENBQUM7SUFFdEQsRUFBRSxDQUFDLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7UUFDcEIsTUFBTSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDdEMsQ0FBQztJQUVELElBQU0sTUFBTSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQztTQUNsQyxNQUFNLENBQUMsVUFBQSxDQUFDLElBQUksT0FBQSxDQUFDLDhCQUFpQixDQUFDLENBQUMsQ0FBQyxFQUFyQixDQUFxQixDQUFDO1NBQ2xDLE1BQU0sQ0FBQyxVQUFBLFFBQVEsSUFBSSxPQUFBLFFBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxNQUFNLENBQUMsTUFBSSxZQUFZLGVBQVksQ0FBQyxDQUFDLEtBQUssSUFBSSxFQUFqRSxDQUFpRSxDQUFDLENBQUM7SUFFM0YsRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7UUFDaEIsTUFBTSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDbEMsQ0FBQztJQUVELE1BQU0sQ0FBQyxTQUFTLENBQUM7QUFDckIsQ0FBQztBQXhCRCw0Q0F3QkM7QUFFRDs7Ozs7O0dBTUc7QUFDSCwyQkFBa0MsUUFBUSxFQUFFLE9BQU87SUFFL0MsUUFBUSxHQUFHLG1DQUFzQixDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBRTVDOzs7OztPQUtHO0lBQ0gsSUFBTSxZQUFZLEdBQUcsUUFBUSxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFFdEQ7OztPQUdHO0lBQ0gsSUFBTSxnQkFBZ0IsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxVQUFBLENBQUM7UUFDbkQsTUFBTSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxNQUFNLENBQUMsT0FBSyxDQUFDLE1BQUcsQ0FBQyxDQUFDLENBQUM7SUFDakQsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFFTjs7O09BR0c7SUFDSCxFQUFFLENBQUMsQ0FBQyxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQztRQUNwQixNQUFNLENBQUMsVUFBVSxDQUFDO1lBQ2QsUUFBUSxFQUFFLFFBQVE7WUFDbEIsUUFBUSxFQUFFLFFBQVE7WUFDbEIsSUFBSSxFQUFFLFNBQVMsQ0FBQyxPQUFPO1lBQ3ZCLE1BQU0sRUFBRSxlQUFlLENBQUMsT0FBTztZQUMvQixPQUFPLEVBQUUsUUFBUSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDL0IsTUFBTSxFQUFFLENBQXVCO29CQUMzQixJQUFJLEVBQUUsNEJBQWMsQ0FBQyxlQUFlO29CQUNwQyxRQUFRLEVBQUUsUUFBUTtpQkFDckIsQ0FBQztTQUNMLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFRCxNQUFNLENBQUMsVUFBVSxDQUFDO1FBQ2QsWUFBWSxFQUFFLFFBQVE7UUFDdEIsS0FBSyxFQUFFLElBQUk7UUFDWCxPQUFPLEVBQUUsZ0JBQWdCO1FBQ3pCLFFBQVEsRUFBRSxRQUFRO1FBQ2xCLFFBQVEsRUFBRSxRQUFRO1FBQ2xCLE9BQU8sRUFBRSxPQUFPO1FBQ2hCLE9BQU8sRUFBRSxZQUFZO1FBQ3JCLE9BQU8sRUFBRSxZQUFZLENBQUMsTUFBTTtRQUM1QixNQUFNLEVBQUUsZUFBZSxDQUFDLE9BQU87UUFDL0IsSUFBSSxFQUFFLFNBQVMsQ0FBQyxPQUFPO0tBQzFCLENBQUMsQ0FBQztBQUNQLENBQUM7QUFsREQsOENBa0RDO0FBRUQ7Ozs7Ozs7R0FPRztBQUNILHdCQUErQixLQUFTLEVBQUUsUUFBZ0I7SUFFdEQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsTUFBTSxDQUFDLFVBQVUsR0FBRyxFQUFFLEdBQUc7UUFFL0MsSUFBTSxLQUFLLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxJQUFJLE1BQU0sQ0FBQyxNQUFJLFFBQVEsVUFBTyxDQUFDLENBQUMsQ0FBQztRQUV6RCxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1lBQ1IsTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN0QixDQUFDO1FBQ0QsTUFBTSxDQUFDLEdBQUcsQ0FBQztJQUNmLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztBQUNYLENBQUM7QUFYRCx3Q0FXQztBQUVEOzs7R0FHRztBQUNILDJCQUEyQixRQUFnQixFQUFFLEtBQW9CO0lBRTdELEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQztRQUN0QyxNQUFNLENBQUMsRUFBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsTUFBTSxFQUFFLGVBQWUsQ0FBQyxjQUFjLEVBQUMsQ0FBQztJQUM3RixDQUFDO0lBRUQ7OztPQUdHO0lBQ0gsSUFBTSxNQUFNLEdBQUcsY0FBYyxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFFckQsRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7UUFDaEIsTUFBTSxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsZUFBZSxDQUFDLGNBQWMsRUFBQyxDQUFDO0lBQ25FLENBQUM7SUFFRCxNQUFNLENBQUMsRUFBQyxLQUFLLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxlQUFlLENBQUMsY0FBYyxFQUFDLENBQUM7QUFDL0QsQ0FBQztBQUVEOzs7R0FHRztBQUNILHNCQUFzQixJQUFVLEVBQUUsT0FBdUI7SUFDckQ7OztPQUdHO0lBQ0gsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssS0FBSyxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLE1BQU0sQ0FBQyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUVEOztPQUVHO0lBQ0gsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1FBQ3JCLE1BQU0sQ0FBQyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUVEOzs7T0FHRztJQUNILEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztRQUNwQixNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDO1lBQy9CLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3BDLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVEOzs7OztPQUtHO0lBQ0gsRUFBRSxDQUFDLENBQUMsT0FBTyxJQUFJLENBQUMsT0FBTyxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUM7UUFFbkM7Ozs7V0FJRztRQUNILEVBQUUsQ0FBQyxDQUFDLFFBQVEsQ0FBTSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzlCLE1BQU0sQ0FBQyxRQUFRLENBQU0sSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUM7UUFDN0UsQ0FBQztJQUNMLENBQUM7SUFFRDs7O09BR0c7SUFDSCxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxLQUFLLFNBQVMsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDO1FBQ3pDLE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVEOzs7T0FHRztJQUNILEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLEtBQUssU0FBUyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUM7UUFDdkMsTUFBTSxDQUFDLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRUQ7Ozs7T0FJRztJQUNILEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1FBQ2xELE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDaEIsQ0FBQztBQUNMLENBQUM7QUFFRCxzQkFBNkIsY0FBOEIsRUFBRSxPQUF1QjtJQUVoRjs7T0FFRztJQUNILElBQUksUUFBUSxHQUFHLGNBQWM7U0FDeEIsR0FBRyxDQUFDLFVBQUEsSUFBSTtRQUNMLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLEVBQUUsRUFBRSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ2xELENBQUMsQ0FBQyxDQUFDO0lBRVA7O09BRUc7SUFDSCxRQUFRLEdBQUcsMENBQW1CLENBQUMsUUFBUSxDQUFDLENBQUM7SUFFekM7Ozs7T0FJRztJQUNILElBQU0sTUFBTSxHQUFHO1FBQ1gsS0FBSyxFQUFFLFFBQVEsQ0FBQyxNQUFNLENBQUMsVUFBQSxDQUFDLElBQUksT0FBQSxZQUFZLENBQUMsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxFQUF4QixDQUF3QixDQUFDO1FBQ3JELE9BQU8sRUFBRSxRQUFRLENBQUMsTUFBTSxDQUFDLFVBQUEsQ0FBQyxJQUFJLE9BQUEsQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxFQUF6QixDQUF5QixDQUFDO1FBQ3hELEdBQUcsRUFBRSxRQUFRO0tBQ2hCLENBQUM7SUFFRixNQUFNLENBQUMsTUFBTSxDQUFDO0FBQ2xCLENBQUM7QUEzQkQsb0NBMkJDIn0=