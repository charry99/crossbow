"use strict";
var task_resolve_1 = require("./task.resolve");
var task_utils_1 = require("./task.utils");
var _ = require("../lodash.custom");
var TaskErrorTypes;
(function (TaskErrorTypes) {
    TaskErrorTypes[TaskErrorTypes["TaskNotFound"] = "TaskNotFound"] = "TaskNotFound";
    TaskErrorTypes[TaskErrorTypes["SubtasksNotInConfig"] = "SubtasksNotInConfig"] = "SubtasksNotInConfig";
    TaskErrorTypes[TaskErrorTypes["SubtaskNotProvided"] = "SubtaskNotProvided"] = "SubtaskNotProvided";
    TaskErrorTypes[TaskErrorTypes["SubtaskNotProvidedForParent"] = "SubtaskNotProvidedForParent"] = "SubtaskNotProvidedForParent";
    TaskErrorTypes[TaskErrorTypes["SubtaskNotFound"] = "SubtaskNotFound"] = "SubtaskNotFound";
    TaskErrorTypes[TaskErrorTypes["SubtaskWildcardNotAvailable"] = "SubtaskWildcardNotAvailable"] = "SubtaskWildcardNotAvailable";
    TaskErrorTypes[TaskErrorTypes["AdaptorNotFound"] = "AdaptorNotFound"] = "AdaptorNotFound";
    TaskErrorTypes[TaskErrorTypes["FlagNotFound"] = "FlagNotFound"] = "FlagNotFound";
    TaskErrorTypes[TaskErrorTypes["CBFlagNotProvided"] = "CBFlagNotProvided"] = "CBFlagNotProvided";
    TaskErrorTypes[TaskErrorTypes["InvalidTaskInput"] = "InvalidTaskInput"] = "InvalidTaskInput";
    TaskErrorTypes[TaskErrorTypes["CircularReference"] = "CircularReference"] = "CircularReference";
    TaskErrorTypes[TaskErrorTypes["FileTypeNotSupported"] = "FileTypeNotSupported"] = "FileTypeNotSupported";
})(TaskErrorTypes = exports.TaskErrorTypes || (exports.TaskErrorTypes = {}));
function gatherTaskErrors(task, trigger) {
    return [
        getModuleErrors,
        getFileTypeErrors,
        getCBFlagErrors,
        getSubTaskErrors,
        getParentGroupErrors
    ].reduce(function (all, fn) { return all.concat(fn(task, trigger)); }, []);
}
exports.gatherTaskErrors = gatherTaskErrors;
function getModuleErrors(task, trigger) {
    if (task.type === task_resolve_1.TaskTypes.ParentGroup)
        return [];
    if (task.type === task_resolve_1.TaskTypes.ExternalTask)
        return [];
    if (task.type === task_resolve_1.TaskTypes.InlineFunction)
        return [];
    /**
     * If a module was not located, and there are 0 child tasks,
     * this can be classified as a `module not found error`
     */
    if (task.externalTasks.length === 0 && task.tasks.length === 0) {
        var matchSorter = require('match-sorter');
        return [{
                type: TaskErrorTypes.TaskNotFound,
                taskName: task.taskName,
                cwd: trigger.config.cwd,
                possible: matchSorter(task_utils_1.getPossibleTaskNames(trigger.input), task.taskName, { threshold: matchSorter.rankings.NO_MATCH })
            }];
    }
    return [];
}
function getFileTypeErrors(task, trigger) {
    /**
     * If it's not an external task, this can never be an error
     */
    if (task.type !== task_resolve_1.TaskTypes.ExternalTask)
        return [];
    var supported = task_utils_1.isSupportedFileType(task.externalTasks[0].parsed.ext);
    if (supported)
        return [];
    return [{
            type: TaskErrorTypes.FileTypeNotSupported,
            taskName: task.taskName,
            externalFile: task.externalTasks[0]
        }];
}
function getCBFlagErrors(task, trigger) {
    return task.cbflags.reduce(function (all, flag) {
        /**
         * if `flag` is an empty string, the user provided an @ after a task
         * name, but without the right-hand part.
         * eg:
         *   $ crossbow run build-css@
         *
         * when it should of been
         *   $ crossbow run build-css@p
         *
         */
        if (flag === "") {
            return all.concat({
                type: TaskErrorTypes.CBFlagNotProvided,
                taskName: task.taskName
            });
        }
        return all;
    }, []);
}
function getSubTaskErrors(task, trigger) {
    if (task.type === task_resolve_1.TaskTypes.ParentGroup)
        return [];
    /**
     * Now validate any sub tasks given with colon syntax
     *  eg: sass:dev
     *   -> must have a configuration object under the key sass.dev
     *   -> VALID
     *      config:
     *        sass:
     *          dev: 'input.scss'
     */
    return task.subTasks.reduce(function (all, subTaskName) {
        var configKeys = (function () {
            var taskOptions = Object.keys(_.get(task, "options", {}));
            if (taskOptions.length) {
                return taskOptions;
            }
            return Object.keys(_.get(trigger.input, ["options"].concat(task.baseTaskName), {}));
        })();
        /**
         * if `name` is an empty string, the user provided a colon-separated task
         * name without the right-hand part.
         * eg:
         *   $ crossbow run sass:
         *
         * when it should of been
         *   $ crossbow run sass:site:dev
         *
         */
        if (subTaskName === "") {
            return all.concat({
                type: TaskErrorTypes.SubtaskNotProvided,
                name: subTaskName
            });
        }
        /**
         * if a star was given as a subTask,
         * then this item must have configuration
         * as we'll want to run once with each key
         */
        if (subTaskName === "*") {
            return all.concat(handleWildcardSubtask(configKeys, subTaskName));
        }
        /**
         * Now check if this is an attempt at loading a grouped task
         */
        if (subTaskName.length) {
            var matching = task.tasks.filter(function (x) { return x.taskName === subTaskName; });
            if (matching.length)
                return all;
        }
        if (!configKeys.length) {
            return all.concat({
                type: TaskErrorTypes.SubtasksNotInConfig,
                name: subTaskName
            });
        }
        /**
         * Finally check if there's configuration that Matches this
         * key.
         */
        var match = _.get(trigger.input, ["options"].concat(task.baseTaskName, subTaskName));
        var match2 = _.get(task, ["options"].concat(subTaskName));
        if (match === undefined && match2 === undefined) {
            return all.concat({
                type: TaskErrorTypes.SubtaskNotFound,
                name: subTaskName
            });
        }
        return all;
    }, []);
}
function getParentGroupErrors(task, trigger) {
    /**
     * This only applies to ParentGroups
     */
    if (task.type !== task_resolve_1.TaskTypes.ParentGroup)
        return [];
    /**
     * If the type is a ParentGroup, it requires that a sub-task is provided also
     */
    if (task.subTasks[0] === "*") {
        var children = task_utils_1.getChildItems(task.baseTaskName, trigger.input.tasks);
        if (Object.keys(children).length) {
            return [];
        }
    }
    if (task.subTasks.length === 0) {
        var available = (function () {
            var match = task_utils_1.isParentGroupName(task.baseTaskName);
            if (match) {
                return Object.keys(_.get(trigger.input.tasks, [task.baseTaskName], {}));
            }
            return Object.keys(_.get(trigger.input.tasks, ["(" + task.baseTaskName + ")"], {}));
        })();
        return [{
                type: TaskErrorTypes.SubtaskNotProvidedForParent,
                name: task.baseTaskName,
                available: available
            }];
    }
    function match(name) {
        return _.get(trigger.input.tasks, ["(" + task.baseTaskName + ")", name]);
    }
    return task.subTasks.reduce(function (acc, subTask) {
        if (!match(subTask)) {
            return acc.concat([{
                    type: TaskErrorTypes.SubtaskNotFound,
                    name: subTask
                }]);
        }
        return acc;
    }, []);
}
function handleWildcardSubtask(configKeys, name) {
    if (configKeys.length) {
        return [];
    }
    return [{
            type: TaskErrorTypes.SubtaskWildcardNotAvailable,
            name: name
        }];
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFzay5lcnJvcnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvdGFzay5lcnJvcnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBLCtDQUF5QztBQUN6QywyQ0FBeUc7QUFHekcsSUFBTSxDQUFDLEdBQUcsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7QUFFdEMsSUFBWSxjQWFYO0FBYkQsV0FBWSxjQUFjO0lBQ3RCLGdEQUFvQixjQUFjLGtCQUFBLENBQUE7SUFDbEMsdURBQTJCLHFCQUFxQix5QkFBQSxDQUFBO0lBQ2hELHNEQUEwQixvQkFBb0Isd0JBQUEsQ0FBQTtJQUM5QywrREFBbUMsNkJBQTZCLGlDQUFBLENBQUE7SUFDaEUsbURBQXVCLGlCQUFpQixxQkFBQSxDQUFBO0lBQ3hDLCtEQUFtQyw2QkFBNkIsaUNBQUEsQ0FBQTtJQUNoRSxtREFBdUIsaUJBQWlCLHFCQUFBLENBQUE7SUFDeEMsZ0RBQW9CLGNBQWMsa0JBQUEsQ0FBQTtJQUNsQyxxREFBeUIsbUJBQW1CLHVCQUFBLENBQUE7SUFDNUMsb0RBQXdCLGtCQUFrQixzQkFBQSxDQUFBO0lBQzFDLHFEQUF5QixtQkFBbUIsdUJBQUEsQ0FBQTtJQUM1Qyx3REFBNEIsc0JBQXNCLDBCQUFBLENBQUE7QUFDdEQsQ0FBQyxFQWJXLGNBQWMsR0FBZCxzQkFBYyxLQUFkLHNCQUFjLFFBYXpCO0FBRUQsMEJBQWlDLElBQVUsRUFBRSxPQUF1QjtJQUNoRSxNQUFNLENBQUM7UUFDSCxlQUFlO1FBQ2YsaUJBQWlCO1FBQ2pCLGVBQWU7UUFDZixnQkFBZ0I7UUFDaEIsb0JBQW9CO0tBRXZCLENBQUMsTUFBTSxDQUFDLFVBQUMsR0FBRyxFQUFFLEVBQUUsSUFBSyxPQUFBLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQyxFQUE3QixDQUE2QixFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQzdELENBQUM7QUFURCw0Q0FTQztBQUVE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