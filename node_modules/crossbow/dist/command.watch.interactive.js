"use strict";
var watch_utils_1 = require("./watch.utils");
var Rx = require("rx");
var debug = require("debug")("cb:command.run");
function promptForWatchCommand(cli, input, config) {
    var inquirer = require("inquirer");
    var topLevelWatchers = watch_utils_1.stripBlacklisted(Object.keys(input.watch));
    var prompt = topLevelWatchers.map(function (key) { return ({ name: key, value: key }); });
    var taskSelect = {
        type: "checkbox",
        message: "Select Watchers to run with <space>",
        name: "watch",
        choices: prompt,
        validate: function (answer) {
            if (answer.length < 1) {
                return "You must choose at least one watcher";
            }
            return true;
        }
    };
    return Rx.Observable.fromPromise(inquirer.prompt(taskSelect));
}
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = promptForWatchCommand;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tbWFuZC53YXRjaC5pbnRlcmFjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9jb21tYW5kLndhdGNoLmludGVyYWN0aXZlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQSw2Q0FBK0M7QUFDL0MsdUJBQTBCO0FBQzFCLElBQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0FBU2pELCtCQUE4QyxHQUFRLEVBQUUsS0FBb0IsRUFBRSxNQUE2QjtJQUV2RyxJQUFNLFFBQVEsR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDckMsSUFBTSxnQkFBZ0IsR0FBRyw4QkFBZ0IsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBQ3BFLElBQU0sTUFBTSxHQUFHLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxVQUFBLEdBQUcsSUFBSSxPQUFBLENBQUMsRUFBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUMsQ0FBQyxFQUF6QixDQUF5QixDQUFDLENBQUM7SUFFdEUsSUFBTSxVQUFVLEdBQUc7UUFDZixJQUFJLEVBQUUsVUFBVTtRQUNoQixPQUFPLEVBQUUscUNBQXFDO1FBQzlDLElBQUksRUFBRSxPQUFPO1FBQ2IsT0FBTyxFQUFFLE1BQU07UUFDZixRQUFRLEVBQUUsVUFBVSxNQUFnQjtZQUNoQyxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3BCLE1BQU0sQ0FBQyxzQ0FBc0MsQ0FBQztZQUNsRCxDQUFDO1lBQ0QsTUFBTSxDQUFDLElBQUksQ0FBQztRQUNoQixDQUFDO0tBQ0osQ0FBQztJQUVGLE1BQU0sQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBZSxRQUFRLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7QUFDaEYsQ0FBQzs7QUFwQkQsd0NBb0JDIn0=